# This configuration is managed by BindPlane OP.
# Configuration: sales-app-stage:1
receivers:
    filelog/source1_01HCQJB9N4SEE8P8ZT8EVE4VMX:
        encoding: utf-8
        fingerprint_size: 1kb
        include:
            - /my/path
        include_file_name: true
        include_file_name_resolved: false
        include_file_path: false
        include_file_path_resolved: false
        max_concurrent_files: 1024
        operators:
            - field: attributes.log_type
              type: add
              value: file
        poll_interval: 200ms
        retry_on_failure:
            enabled: false
        start_at: end
        storage: file_storage/source1_01HCQJB9N4SEE8P8ZT8EVE4VMX
    syslog/source0_01HCQJB9N3DSD03V0TDX4J2TP6:
        location: UTC
        operators:
            - from: attributes.appname
              id: move_appname
              if: attributes.appname != nil
              to: body.appname
              type: move
            - from: attributes.facility
              id: move_facility
              if: attributes.facility != nil
              to: body.facility
              type: move
            - from: attributes.hostname
              id: move_hostname
              if: attributes.hostname != nil
              to: body.hostname
              type: move
            - from: attributes.message
              id: move_message
              if: attributes.message != nil
              to: body.message
              type: move
            - from: attributes.msg_id
              id: move_msg_id
              if: attributes.msg_id != nil
              to: body.msg_id
              type: move
            - from: attributes.priority
              id: move_priority
              if: attributes.priority != nil
              to: body.priority
              type: move
            - from: attributes.proc_id
              id: move_proc_id
              if: attributes.proc_id != nil
              to: body.proc_id
              type: move
            - from: attributes.severity
              id: move_severity
              if: attributes.severity != nil
              to: body.severity
              type: move
            - from: attributes.structured_data
              id: move_structured_data
              if: attributes.structured_data != nil
              to: body.structured_data
              type: move
            - from: attributes.timestamp
              id: move_timestamp
              if: attributes.timestamp != nil
              to: body.timestamp
              type: move
            - from: attributes.version
              id: move_version
              if: attributes.version != nil
              to: body.version
              type: move
        protocol: rfc3164
        udp:
            listen_address: 0.0.0.0:5140
processors:
    batch/splunk-north: null
    resourcedetection/source0_01HCQJB9N3DSD03V0TDX4J2TP6:
        detectors:
            - system
        system:
            hostname_sources:
                - os
    resourcedetection/source1_01HCQJB9N4SEE8P8ZT8EVE4VMX:
        detectors:
            - system
        system:
            hostname_sources:
                - os
exporters:
    splunk_hec/splunk-north:
        disable_compression: false
        endpoint: http://localhost:8088/services/collector/event
        max_content_length_logs: 2097152
        max_content_length_metrics: 2097152
        max_content_length_traces: 2097152
        max_event_size: 2097152
        retry_on_failure:
            enabled: true
            initial_interval: 5s
            max_elapsed_time: 300s
            max_interval: 30s
        sending_queue:
            enabled: true
            num_consumers: 10
            queue_size: 5000
            storage: file_storage/splunk-north
        tls:
            insecure: true
        token: asdfasdfasdfasdfasdf
extensions:
    file_storage/source1_01HCQJB9N4SEE8P8ZT8EVE4VMX:
        compaction:
            directory: $OIQ_OTEL_COLLECTOR_HOME/storage
            on_rebound: true
        directory: $OIQ_OTEL_COLLECTOR_HOME/storage
    file_storage/splunk-north:
        compaction:
            directory: $OIQ_OTEL_COLLECTOR_HOME/storage
            on_rebound: true
        directory: $OIQ_OTEL_COLLECTOR_HOME/storage
service:
    extensions:
        - file_storage/splunk-north
        - file_storage/source1_01HCQJB9N4SEE8P8ZT8EVE4VMX
    pipelines:
        logs/source0_01HCQJB9N3DSD03V0TDX4J2TP6__splunk-north-0:
            receivers:
                - syslog/source0_01HCQJB9N3DSD03V0TDX4J2TP6
            processors:
                - resourcedetection/source0_01HCQJB9N3DSD03V0TDX4J2TP6
                - batch/splunk-north
            exporters:
                - splunk_hec/splunk-north
        logs/source1_01HCQJB9N4SEE8P8ZT8EVE4VMX__splunk-north-0:
            receivers:
                - filelog/source1_01HCQJB9N4SEE8P8ZT8EVE4VMX
            processors:
                - resourcedetection/source1_01HCQJB9N4SEE8P8ZT8EVE4VMX
                - batch/splunk-north
            exporters:
                - splunk_hec/splunk-north
