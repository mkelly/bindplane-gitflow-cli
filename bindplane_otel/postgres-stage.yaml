# This configuration is managed by BindPlane OP.
# Configuration: postgres-stage:1
receivers:
    plugin/source0_01HCQJ8448HVANVPAGDASPGZ7T__postgresql:
        parameters:
            postgresql_log_path:
                - /var/log/postgresql/postgresql*.log
                - /var/lib/pgsql/data/log/postgresql*.log
                - /var/lib/pgsql/*/data/log/postgresql*.log
            start_at: end
        path: $OIQ_OTEL_COLLECTOR_HOME/plugins/postgresql_logs.yaml
processors:
    resourcedetection/source0_01HCQJ8448HVANVPAGDASPGZ7T:
        detectors:
            - system
        system:
            hostname_sources:
                - os
exporters:
    elasticsearch/elastic-cluster-1__logs:
        endpoints:
            - asdfasdf
        logs_index: logs-generic-default
        num_workers: 0
        pipeline: null
        retry:
            enabled: true
        sending_queue:
            enabled: true
            num_consumers: 10
            queue_size: 5000
            storage: file_storage/elastic-cluster-1
        tls: null
extensions:
    file_storage/elastic-cluster-1:
        compaction:
            directory: $OIQ_OTEL_COLLECTOR_HOME/storage
            on_rebound: true
        directory: $OIQ_OTEL_COLLECTOR_HOME/storage
service:
    extensions:
        - file_storage/elastic-cluster-1
    pipelines:
        logs/source0_01HCQJ8448HVANVPAGDASPGZ7T__elastic-cluster-1-0:
            receivers:
                - plugin/source0_01HCQJ8448HVANVPAGDASPGZ7T__postgresql
            processors:
                - resourcedetection/source0_01HCQJ8448HVANVPAGDASPGZ7T
            exporters:
                - elasticsearch/elastic-cluster-1__logs
